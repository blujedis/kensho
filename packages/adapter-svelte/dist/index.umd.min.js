/*!
 * @kensho/adapter-svelte v0.0.2
 * (c) Blujedi LLC
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("svelte/store")):"function"==typeof define&&define.amd?define(["exports","svelte/store"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["@kensho/adapter-svelte"]={},t.store)}(this,(function(t,e){"use strict";
/*!
   * @kensho/form v0.0.2
   * (c) Blujedi LLC
   * Released under the MIT License.
   */const n=["INPUT","SELECT","TEXTAREA"],r=["email","number","date","datetime-local","time","url","tel","color"],o=[...r,"textarea"],i={initialized:!1,validating:!1,pristine:!0,dirty:!1,valid:!0,invalid:!1,submitting:!1,submitted:!1};var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a="__lodash_hash_undefined__",c="[object Function]",l="[object GeneratorFunction]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,p=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,v="object"==typeof u&&u&&u.Object===Object&&u,_="object"==typeof self&&self&&self.Object===Object&&self,b=v||_||Function("return this")();var g,m=Array.prototype,j=Function.prototype,A=Object.prototype,O=b["__core-js_shared__"],w=(g=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",T=j.toString,E=A.hasOwnProperty,$=A.toString,x=RegExp("^"+T.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=b.Symbol,k=m.splice,V=R(b,"Map"),z=R(Object,"create"),F=S?S.prototype:void 0,L=F?F.toString:void 0;function P(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function I(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function N(t,e){var n;e=function(t,e){if(B(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||X(t))return!0;return f.test(t)||!s.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:B(n=e)?n:G(n);for(var r=0,o=e.length;null!=t&&r<o;)t=t[H(e[r++])];return r&&r==o?t:void 0}function U(t){if(!W(t)||(e=t,w&&w in e))return!1;var e,n=function(t){var e=W(t)?$.call(t):"";return e==c||e==l}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?x:y;return n.test(function(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function D(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function R(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return U(n)?n:void 0}P.prototype.clear=function(){this.__data__=z?z(null):{}},P.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},P.prototype.get=function(t){var e=this.__data__;if(z){var n=e[t];return n===a?void 0:n}return E.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return z?void 0!==e[t]:E.call(e,t)},P.prototype.set=function(t,e){return this.__data__[t]=z&&void 0===e?a:e,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(t){var e=this.__data__,n=C(e,t);return!(n<0)&&(n==e.length-1?e.pop():k.call(e,n,1),!0)},I.prototype.get=function(t){var e=this.__data__,n=C(e,t);return n<0?void 0:e[n][1]},I.prototype.has=function(t){return C(this.__data__,t)>-1},I.prototype.set=function(t,e){var n=this.__data__,r=C(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},M.prototype.clear=function(){this.__data__={hash:new P,map:new(V||I),string:new P}},M.prototype.delete=function(t){return D(this,t).delete(t)},M.prototype.get=function(t){return D(this,t).get(t)},M.prototype.has=function(t){return D(this,t).has(t)},M.prototype.set=function(t,e){return D(this,t).set(t,e),this};var G=q((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(X(t))return L?L.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return p.test(t)&&n.push(""),t.replace(d,(function(t,e,r,o){n.push(r?o.replace(h,"$1"):e||t)})),n}));function H(t){if("string"==typeof t||X(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function q(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(q.Cache||M),n}q.Cache=M;var B=Array.isArray;function W(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function X(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==$.call(t)}var Y=function(t,e,n){var r=null==t?void 0:N(t,e);return void 0===r?n:r},K="__lodash_hash_undefined__",J="[object Function]",Q="[object GeneratorFunction]",Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,et=/^\./,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/\\(\\)?/g,ot=/^\[object .+?Constructor\]$/,it=/^(?:0|[1-9]\d*)$/,ut="object"==typeof u&&u&&u.Object===Object&&u,at="object"==typeof self&&self&&self.Object===Object&&self,ct=ut||at||Function("return this")();var lt=Array.prototype,st=Function.prototype,ft=Object.prototype,pt=ct["__core-js_shared__"],dt=function(){var t=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ht=st.toString,yt=ft.hasOwnProperty,vt=ft.toString,_t=RegExp("^"+ht.call(yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=ct.Symbol,gt=lt.splice,mt=zt(ct,"Map"),jt=zt(Object,"create"),At=bt?bt.prototype:void 0,Ot=At?At.toString:void 0;function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $t(t,e,n){var r=t[e];yt.call(t,e)&&Mt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function xt(t,e){for(var n=t.length;n--;)if(Mt(t[n][0],e))return n;return-1}function St(t){if(!Nt(t)||(e=t,dt&&dt in e))return!1;var e,n=function(t){var e=Nt(t)?vt.call(t):"";return e==J||e==Q}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?_t:ot;return n.test(function(t){if(null!=t){try{return ht.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function kt(t,e,n,r){if(!Nt(t))return t;e=function(t,e){if(Ct(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||Ut(t))return!0;return tt.test(t)||!Z.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return Ct(t)?t:Lt(t)}(e);for(var o=-1,i=e.length,u=i-1,a=t;null!=a&&++o<i;){var c=Pt(e[o]),l=n;if(o!=u){var s=a[c];void 0===(l=r?r(s,c,a):void 0)&&(l=Nt(s)?s:Ft(e[o+1])?[]:{})}$t(a,c,l),a=a[c]}return t}function Vt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function zt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return St(n)?n:void 0}function Ft(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||it.test(t))&&t>-1&&t%1==0&&t<e}wt.prototype.clear=function(){this.__data__=jt?jt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(jt){var n=e[t];return n===K?void 0:n}return yt.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return jt?void 0!==e[t]:yt.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=jt&&void 0===e?K:e,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(t){var e=this.__data__,n=xt(e,t);return!(n<0)&&(n==e.length-1?e.pop():gt.call(e,n,1),!0)},Tt.prototype.get=function(t){var e=this.__data__,n=xt(e,t);return n<0?void 0:e[n][1]},Tt.prototype.has=function(t){return xt(this.__data__,t)>-1},Tt.prototype.set=function(t,e){var n=this.__data__,r=xt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Et.prototype.clear=function(){this.__data__={hash:new wt,map:new(mt||Tt),string:new wt}},Et.prototype.delete=function(t){return Vt(this,t).delete(t)},Et.prototype.get=function(t){return Vt(this,t).get(t)},Et.prototype.has=function(t){return Vt(this,t).has(t)},Et.prototype.set=function(t,e){return Vt(this,t).set(t,e),this};var Lt=It((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Ut(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return et.test(t)&&n.push(""),t.replace(nt,(function(t,e,r,o){n.push(r?o.replace(rt,"$1"):e||t)})),n}));function Pt(t){if("string"==typeof t||Ut(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function It(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(It.Cache||Et),n}function Mt(t,e){return t===e||t!=t&&e!=e}It.Cache=Et;var Ct=Array.isArray;function Nt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ut(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==vt.call(t)}var Dt=function(t,e,n){return null==t?t:kt(t,e,n)},Rt="__lodash_hash_undefined__",Gt=9007199254740991,Ht="[object Arguments]",qt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/,Wt=/^\./,Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yt=/\\(\\)?/g,Kt=/^\[object .+?Constructor\]$/,Jt=/^(?:0|[1-9]\d*)$/,Qt="object"==typeof u&&u&&u.Object===Object&&u,Zt="object"==typeof self&&self&&self.Object===Object&&self,te=Qt||Zt||Function("return this")();var ee=Array.prototype,ne=Function.prototype,re=Object.prototype,oe=te["__core-js_shared__"],ie=function(){var t=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ue=ne.toString,ae=re.hasOwnProperty,ce=re.toString,le=RegExp("^"+ue.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),se=te.Symbol,fe=re.propertyIsEnumerable,pe=ee.splice,de=we(te,"Map"),he=we(Object,"create"),ye=se?se.prototype:void 0,ve=ye?ye.toString:void 0;function _e(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function be(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ge(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function me(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function je(t,e){return null!=t&&ae.call(t,e)}function Ae(t){if(!ze(t)||(e=t,ie&&ie in e))return!1;var e,n=ke(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?le:Kt;return n.test(function(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function Oe(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function we(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ae(n)?n:void 0}function Te(t,e,n){var r;e=function(t,e){if(Se(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||Le(t))return!0;return Bt.test(t)||!qt.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:Se(r=e)?r:Ee(r);for(var o,i=-1,u=e.length;++i<u;){var a=$e(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||!!(u=t?t.length:0)&&Ve(u)&&function(t,e){return!!(e=null==e?Gt:e)&&("number"==typeof t||Jt.test(t))&&t>-1&&t%1==0&&t<e}(a,u)&&(Se(t)||function(t){return function(t){return Fe(t)&&function(t){return null!=t&&Ve(t.length)&&!ke(t)}(t)}(t)&&ae.call(t,"callee")&&(!fe.call(t,"callee")||ce.call(t)==Ht)}(t))}_e.prototype.clear=function(){this.__data__=he?he(null):{}},_e.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_e.prototype.get=function(t){var e=this.__data__;if(he){var n=e[t];return n===Rt?void 0:n}return ae.call(e,t)?e[t]:void 0},_e.prototype.has=function(t){var e=this.__data__;return he?void 0!==e[t]:ae.call(e,t)},_e.prototype.set=function(t,e){return this.__data__[t]=he&&void 0===e?Rt:e,this},be.prototype.clear=function(){this.__data__=[]},be.prototype.delete=function(t){var e=this.__data__,n=me(e,t);return!(n<0)&&(n==e.length-1?e.pop():pe.call(e,n,1),!0)},be.prototype.get=function(t){var e=this.__data__,n=me(e,t);return n<0?void 0:e[n][1]},be.prototype.has=function(t){return me(this.__data__,t)>-1},be.prototype.set=function(t,e){var n=this.__data__,r=me(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},ge.prototype.clear=function(){this.__data__={hash:new _e,map:new(de||be),string:new _e}},ge.prototype.delete=function(t){return Oe(this,t).delete(t)},ge.prototype.get=function(t){return Oe(this,t).get(t)},ge.prototype.has=function(t){return Oe(this,t).has(t)},ge.prototype.set=function(t,e){return Oe(this,t).set(t,e),this};var Ee=xe((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Le(t))return ve?ve.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return Wt.test(t)&&n.push(""),t.replace(Xt,(function(t,e,r,o){n.push(r?o.replace(Yt,"$1"):e||t)})),n}));function $e(t){if("string"==typeof t||Le(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function xe(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(xe.Cache||ge),n}xe.Cache=ge;var Se=Array.isArray;function ke(t){var e=ze(t)?ce.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Ve(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Gt}function ze(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Fe(t){return!!t&&"object"==typeof t}function Le(t){return"symbol"==typeof t||Fe(t)&&"[object Symbol]"==ce.call(t)}var Pe=function(t,e){return null!=t&&Te(t,e,je)},Ie={exports:{}};!function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object Object]",c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[o]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s[i]=s["[object Map]"]=s["[object Number]"]=s[a]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var f="object"==typeof u&&u&&u.Object===Object&&u,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")(),h=e&&!e.nodeType&&e,y=h&&t&&!t.nodeType&&t,v=y&&y.exports===h,_=v&&f.process,b=function(){try{var t=y&&y.require&&y.require("util").types;return t||_&&_.binding&&_.binding("util")}catch(t){}}(),g=b&&b.isTypedArray;function m(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var j,A,O=Array.prototype,w=Function.prototype,T=Object.prototype,E=d["__core-js_shared__"],$=w.toString,x=T.hasOwnProperty,S=function(){var t=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),k=T.toString,V=$.call(Object),z=RegExp("^"+$.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=v?d.Buffer:void 0,L=d.Symbol,P=d.Uint8Array,I=F?F.allocUnsafe:void 0,M=(j=Object.getPrototypeOf,A=Object,function(t){return j(A(t))}),C=Object.create,N=T.propertyIsEnumerable,U=O.splice,D=L?L.toStringTag:void 0,R=function(){try{var t=ht(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),G=F?F.isBuffer:void 0,H=Math.max,q=Date.now,B=ht(d,"Map"),W=ht(Object,"create"),X=function(){function t(){}return function(e){if(!Et(e))return{};if(C)return C(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=this.__data__=new K(t);this.size=e.size}function Z(t,e){var n=jt(t),r=!n&&mt(t),o=!n&&!r&&Ot(t),i=!n&&!r&&!o&&xt(t),u=n||r||o||i,a=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var l in t)!e&&!x.call(t,l)||u&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yt(l,c))||a.push(l);return a}function tt(t,e,n){(void 0!==n&&!gt(t[e],n)||void 0===n&&!(e in t))&&rt(t,e,n)}function et(t,e,n){var r=t[e];x.call(t,e)&&gt(r,n)&&(void 0!==n||e in t)||rt(t,e,n)}function nt(t,e){for(var n=t.length;n--;)if(gt(t[n][0],e))return n;return-1}function rt(t,e,n){"__proto__"==e&&R?R(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}Y.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},Y.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Y.prototype.get=function(t){var e=this.__data__;if(W){var r=e[t];return r===n?void 0:r}return x.call(e,t)?e[t]:void 0},Y.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:x.call(e,t)},Y.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=W&&void 0===e?n:e,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(t){var e=this.__data__,n=nt(e,t);return!(n<0)&&(n==e.length-1?e.pop():U.call(e,n,1),--this.size,!0)},K.prototype.get=function(t){var e=this.__data__,n=nt(e,t);return n<0?void 0:e[n][1]},K.prototype.has=function(t){return nt(this.__data__,t)>-1},K.prototype.set=function(t,e){var n=this.__data__,r=nt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(B||K),string:new Y}},J.prototype.delete=function(t){var e=dt(this,t).delete(t);return this.size-=e?1:0,e},J.prototype.get=function(t){return dt(this,t).get(t)},J.prototype.has=function(t){return dt(this,t).has(t)},J.prototype.set=function(t,e){var n=dt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new K,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof K){var r=n.__data__;if(!B||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(t,e),this.size=n.size,this};var ot,it=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),u=i.length;u--;){var a=i[ot?u:++r];if(!1===e(o[a],a,o))break}return t};function ut(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":D&&D in Object(t)?function(t){var e=x.call(t,D),n=t[D];try{t[D]=void 0;var r=!0}catch(t){}var o=k.call(t);r&&(e?t[D]=n:delete t[D]);return o}(t):function(t){return k.call(t)}(t)}function at(t){return $t(t)&&ut(t)==o}function ct(t){return!(!Et(t)||function(t){return!!S&&S in t}(t))&&(wt(t)?z:c).test(function(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function lt(t){if(!Et(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=vt(t),n=[];for(var r in t)("constructor"!=r||!e&&x.call(t,r))&&n.push(r);return n}function st(t,e,n,r,o){t!==e&&it(e,(function(i,u){if(o||(o=new Q),Et(i))!function(t,e,n,r,o,i,u){var c=_t(t,n),l=_t(e,n),s=u.get(l);if(s)return void tt(t,n,s);var f=i?i(c,l,n+"",t,e,u):void 0,p=void 0===f;if(p){var d=jt(l),h=!d&&Ot(l),y=!d&&!h&&xt(l);f=l,d||h||y?jt(c)?f=c:$t(m=c)&&At(m)?f=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(c):h?(p=!1,f=function(t,e){if(e)return t.slice();var n=t.length,r=I?I(n):new t.constructor(n);return t.copy(r),r}(l,!0)):y?(p=!1,v=l,_=!0?(b=v.buffer,g=new b.constructor(b.byteLength),new P(g).set(new P(b)),g):v.buffer,f=new v.constructor(_,v.byteOffset,v.length)):f=[]:function(t){if(!$t(t)||ut(t)!=a)return!1;var e=M(t);if(null===e)return!0;var n=x.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&$.call(n)==V}(l)||mt(l)?(f=c,mt(c)?f=function(t){return function(t,e,n,r){var o=!n;n||(n={});var i=-1,u=e.length;for(;++i<u;){var a=e[i],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?rt(n,a,c):et(n,a,c)}return n}(t,St(t))}(c):Et(c)&&!wt(c)||(f=function(t){return"function"!=typeof t.constructor||vt(t)?{}:X(M(t))}(l))):p=!1}var v,_,b,g;var m;p&&(u.set(l,f),o(f,l,r,i,u),u.delete(l));tt(t,n,f)}(t,e,u,n,st,r,o);else{var c=r?r(_t(t,u),i,u+"",t,e,o):void 0;void 0===c&&(c=i),tt(t,u,c)}}),St)}function ft(t,e){return bt(function(t,e,n){return e=H(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=H(r.length-e,0),u=Array(i);++o<i;)u[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(u),m(t,this,a)}}(t,e,zt),t+"")}var pt=R?function(t,e){return R(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:zt;function dt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function ht(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ct(n)?n:void 0}function yt(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&l.test(t))&&t>-1&&t%1==0&&t<e}function vt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function _t(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bt=function(t){var e=0,n=0;return function(){var r=q(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(pt);function gt(t,e){return t===e||t!=t&&e!=e}var mt=at(function(){return arguments}())?at:function(t){return $t(t)&&x.call(t,"callee")&&!N.call(t,"callee")},jt=Array.isArray;function At(t){return null!=t&&Tt(t.length)&&!wt(t)}var Ot=G||function(){return!1};function wt(t){if(!Et(t))return!1;var e=ut(t);return e==i||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Tt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function Et(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function $t(t){return null!=t&&"object"==typeof t}var xt=g?function(t){return function(e){return t(e)}}(g):function(t){return $t(t)&&Tt(t.length)&&!!s[ut(t)]};function St(t){return At(t)?Z(t,!0):lt(t)}var kt,Vt=(kt=function(t,e,n){st(t,e,n)},ft((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=kt.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(t,e,n){if(!Et(n))return!1;var r=typeof e;return!!("number"==r?At(n)&&yt(e,n.length):"string"==r&&e in n)&&gt(n[e],t)}(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var u=e[n];u&&kt(t,u,n,o)}return t})));function zt(t){return t}t.exports=Vt}(Ie,Ie.exports);var Me=Ie.exports;function Ce(t){return Array.isArray(t)||null==t?t||[]:[t]}function Ne(t,e="."){const n=[],r=(t,o)=>{for(const[i,u]of Object.entries(t)){const t=o?`${o}${e}${i}`:i;null==u||Array.isArray(u)||"object"!=typeof u?n.push(t):r(u,t)}return n};return r(t)}const Ue={string:String,number:Number,integer:t=>{try{return parseInt(t+"")}catch(e){return t}},float:(t,e=2)=>{try{const n=parseFloat(t+"");return Number(n.toFixed(e))}catch(e){return t}},bigint:t=>{try{return BigInt(t+"")}catch(e){return t}},boolean:t=>!!/(true|yes|1)/.test(t+""),array:(t,e="string")=>Ce(t).map((t=>Ue[e](t))),none:t=>t};function De(t,e){if(void 0===t)return function(t){let e=!1,n="none",r=[];if(Array.isArray(t)&&(t=t[0],e=!0),null==t)n="string";else if("string"==typeof t)n="string";else if("boolean"==typeof t)n="boolean";else if("number"==typeof t){const e=t%1!=0;n=e?"float":"integer";const o=e?Math.max(0,(t+"").split(".").length):0;o&&(r=[o])}return e&&(n=`[${n}]`),{dataType:n,dataTypeOptions:r}}(e);const n=t.split("|");return{dataType:n.shift()||"none",dataTypeOptions:[...n]}}function Re(t){const e={type:t.type,required:t.hasAttribute("required"),readonly:t.hasAttribute("readonly"),disabled:t.hasAttribute("disabled"),pattern:t.getAttribute("pattern")||"",min:t.getAttribute("min"),max:t.getAttribute("min"),minlength:t.getAttribute("min"),maxlength:t.getAttribute("min"),step:t.getAttribute("min")};return e.min=null!==e.min?parseInt(e.min+""):null,e.max=null!==e.max?parseInt(e.max+""):null,e.minlength=null!==e.minlength?parseInt(e.minlength+""):null,e.maxlength=null!==e.maxlength?parseInt(e.maxlength+""):null,e.step=null!==e.step?parseInt(e.step+""):null,e}function Ge(t,e=n,r=0){let o=[];if(function(t,e=n){return e.includes(t.nodeName)}(t,e)&&o.push(t),r>20)return o;if(t.childNodes){const n=Array.from(t.childNodes).reduce(((t,n)=>t=[...t,...Ge(n,e,r=1)]),[]);o=[...o,...n]}return o}function He(t,e,r=n){const o=new MutationObserver((t=>{for(let n=0;n<t.length;++n){for(let o=0;o<t[n].addedNodes.length;++o){const i=Ge(t[n].addedNodes[o],r);i&&i.length&&i.forEach((t=>e(t,"add")))}for(let o=0;o<t[n].removedNodes.length;++o){const i=Ge(t[n].removedNodes[o],r);i.length&&i.forEach((t=>e(t,"remove")))}}}));return o.observe(t,{childList:!0,subtree:!0}),()=>o.disconnect()}function qe(t,e){if(console.log("placeholder types:",e),!1===e)return!1;return(e?!0===e?o:e:o).includes(t.type)}function Be(t){if(!t)return"";const e=t.split(".");let n=e.shift();return n=n?.charAt(0).toUpperCase()+n?.slice(1),[n,...e].join(" ")}const We={text:[Je,Ye],email:[Je,Ye],tel:[Je,Ye],"select-one":[Qe,Ke],"select-multiple":[Qe,Ke],checkbox:[function(t){const e=t.el;return t.virtual||!e?t.virtualValue:e.checked},function(t,e){const n=t.el;t.virtual||!n?t.virtualValue=!!/(true|1|yes)/.test(e+""):/(true|1|yes)/.test(e+"")&&n.setAttribute("checked","true")}],password:[Je,Ye],textarea:[Je,Ye],radio:[function(t){let e;const n=t.el;for(const t of n){if(void 0!==e)return e;t.checked&&(e=t.value)}return e},function(t,e){const n=t.el;t.virtual||!n?t.virtualValue=e:n.forEach((t=>{t.value===e&&t.setAttribute("checked","true")}))}],color:[Je,Ye],date:[Je,Ye],"datetime-local":[Je,Ye],file:[function(t){const e=t.el;return e.files?Array.from(e.files):[]},function(...t){}],hidden:[Je,Ye],month:[Je,Ye],number:[Je,Ye],range:[Je,Ye],time:[Je,Ye],url:[Je,Ye],week:[Je,Ye]},Xe=Object.keys(We);function Ye(t,e){const n=t.el;t.virtual||!n?t.virtualValue=e:n.value=e+""}function Ke(t,e){const n=t.el;if(t.virtual||!n)t.virtualValue="select-multiple"===t.type?Ce(e):e;else{const t=Ce(e).filter((t=>null!=t));if("select-multiple"===n.type){!function t(e,n){for(const r of n)if(r instanceof HTMLOptGroupElement)t(e,Array.from(r.children));else{const t=r.value;e.includes(t)?r.selected=!0:r.selected=!1}}(t,Array.from(n.children))}else n.value=t.shift()+""}}function Je(t){const e=t.el;return t.virtual||!e?t.virtualValue:e.value}function Qe(t){const e=t.el,n=[];if("select-multiple"===e.type){return function t(e){for(const r of e)r instanceof HTMLOptGroupElement?t(Array.from(r.children)):r.selected&&n.push(r.value);return n}(Array.from(e.children))}return e.value}function Ze(t){(t={validateInit:!1,validateChange:!0,flattenErrors:!1,placeholders:!1,mergeUnbound:!0,unboundAttribute:"data-unbound",onCoerce:!0,...t}).initialValues={...t.initialValues};let e=null;const n={};let r,o={...i},u={},a={},c=[];const l={form:e,register:function(e){return e?(k(e).then((()=>{p({initialized:!0})})),r=He(e,((t,e)=>{o.submitted||("remove"===e?x(t):$(t))}),t.mutationNodes),{destroy:S}):{destroy:S}},field:function(t,e){let r,i="";Array.isArray(t)||null===t||"object"!=typeof t?void 0!==e&&"string"==typeof t&&(r={name:t,type:"text",value:e},i=t):(r=t,i=r.name);const a="undefined"!=typeof window&&r instanceof Element;if(!n[i]){r={...{dataset:{},type:"text",virtual:!a},...r},$(r)}const c=n[i]?.el;let l;const s={...u[i]||{},name:i,element:()=>c,get value(){return _(i)},set value(t){l&&clearTimeout(l),l=setTimeout((()=>{O(i,t)}),400)},reset:()=>{if(o.submitted)return;const t=j(i);g(i,t),d(i,{dirty:!1,touched:!1,pristine:!0,value:t})},validate:async()=>{if(o.submitted)return;return(await y(i))[i]}};return s},getValue:_,getValues:b,setValue:g,setValues:m,validate:y,getNativeValidators:function(t){const e=n[t]?.el;return e&&e instanceof HTMLElement?Array.isArray(e)?e.map((t=>Re(t))):Re(e):{}},reset:E,submit:function(t){T(t)},subscribe:f,unsubscribe:function(t){c=t?c.filter((e=>e!==t)):[]},destroy:S};function s(){const t=Object.entries(u).reduce(((t,[e,n])=>(Dt(t,e,n),t)),{});return{...o,errors:a,fields:t}}function f(t){return c.includes(t)||c.push(t),()=>{c=c.filter((e=>e!==t))}}function p(t={}){const e=Object.keys(a||{}).length>0;if(o={...o,valid:!e,invalid:e,...t},o.initialized)for(const t of c)t(s())}function d(t,e){const n=Pe(a,t);u[t]={...u[t],valid:!n,invalid:n,...e};const{hasDirty:r,hasTouched:o}=function(){let t=!1,e=!1;for(const[,n]of Object.entries(u)){if(t&&e)break;t=n.dirty,e=n.touched}return{hasDirty:t,hasTouched:e}}();p({dirty:r,pristine:!o&&!r})}function h(t){const{[t]:e,...n}=u;u=n,p()}async function y(e){if(o.validating)return a;let n="string"==typeof e||Array.isArray(e)?"string"==typeof e?[e]:e:null,r=Array.isArray(e)||null===e||"object"!=typeof e?null:e;const i=!r;r=r||b(),n=n||Ne(r);const u=t.onValidate||(()=>{const e="undefined"!=typeof window,n=e&&1===window.__novalidator__;!1===t.onValidate||o.initialized||n||(console.warn('Failed to validate, validation handler NOT defined. To suppress this warning set "validator:false"'),e&&(window.__novalidator__=1))});p({validating:!0});const c=await u(r,n,l),s=null!=c||!!Object.keys(c).length;return a=s?i?c:n.reduce(((e,n)=>{const r=Y(a,n);return t.flattenErrors&&r?e[n]=r:!t.flattenErrors&&r&&Dt(e,n,r),e}),{}):{},p({validating:!1,invalid:s,valid:!s}),a}function v(){return Object.keys(n)}function _(e,r=t.onCoerce){const o=n[e];if(!o)return;let i=We[o.type][0](o);return r&&(i=!0===r?function(t,e,n){const r=t.startsWith("["),o=t.replace(/([|])/g,"");return"none"!==o&&Ue[o]?r?Ce(n).map((t=>Ue[o](t,...e))):Ue[o](n,...e):n}(o.dataType,o.dataTypeOptions,i):r(e,i,{dataType:o.dataType,dataTypeOptions:o.dataTypeOptions})),i=null==i||"undefined"===i?"":i,i}function b(e=!0){let n={};const r=v();for(const t of r){const e=_(t);void 0!==e&&Dt(n,t,e)}return t.mergeUnbound&&(n=Me({...t.initialValues},n)),"function"==typeof t.onTransform&&e&&(n=t.onTransform(n)),n}function g(t,e){if(void 0===e)return;const r=n[t];if(!r)return;(0,We[r.type][1])(r,e)}function m(t){if(void 0===t)return;const e=Object.entries(n);if(e&&e.length)for(const[n]of e){g(n,Y(t,n))}}function j(t){const e=n[t];if(e)return e.defaultValue}function A(t){if(o.submitted)return;const e=t.currentTarget;d(e.name,{touched:!0}),e.removeEventListener("click",A),e.removeEventListener("touchend",A)}async function O(e,r){if(o.submitted)return;let i,u=e,a=!1;if("string"!=typeof e)i=e.currentTarget,u=i.name;else{a=n[u].virtual}r=r||_(u);const c=j(u);a&&g(u,r),r!==c?d(u,{dirty:!0,touched:!0,pristine:!1,value:r}):r===c&&d(u,{dirty:!1,touched:!0,pristine:!1}),t.validateChange&&await y(u)}function w(t){t.preventDefault(),E()}async function T(e){if(e&&e.preventDefault(),o.submitting||o.submitted||o.invalid)return!1;p({submitting:!0,submitted:!1});const n=b(),r=await y();return o.invalid?(t.onError&&t.onError(r,l),!1):(t.onSubmit(n,l),p({submitting:!1,submitted:!0,pristine:!1}),!1)}async function E(r,o=!1){if(!e)return;!function(e,r=!1){if(e){r&&(t.initialValues=e);for(const[t,r]of Object.entries(n)){let o=Y(e,t);Array.isArray(o)&&"select-multiple"!==r.type&&(console.warn(`Element ${t} default value is an Array but is not of type select-multiple. Only the first value will be used.`),o=o[0]||""),"select-multiple"===r.type&&(o=void 0===o?[]:Array.isArray(o)?o:[o]),n[t].defaultValue=o}}}(r,o),e.reset();m(r||v().reduce(((t,e)=>{const r=n[e];return Dt(t,e,r.defaultValue),t}),{})),a={},p({...i,initialized:!0}),t.validateInit&&await y()}function $(...e){for(const r of e){const e=Xe.includes(r?.type),o=r.hasAttribute&&r.hasAttribute(t.unboundAttribute||"data-unbound");if(!e||!r.name||o)continue;const i=r.name;let u=t.defaultGetter(i,r,t.initialValues||{});Array.isArray(u)&&"select-multiple"!==r.type&&(console.warn(`Element ${r.name} default value is an Array but is not of type select-multiple. Only the first value will be used.`),u=u[0]||"");const a=De(r.dataset.datatype,u);if("radio"===r.type){const t=n[i]||{};if(t.el=Ce(t.el),t.el.includes(r))continue;t.el.push(r),t.type=r.type,t.defaultValue=u||r.checked&&r.value||"",t.virtualValue=t.defaultValue,t.dataType=a.dataType,t.dataTypeOptions=a.dataTypeOptions,t.virtual=r.virtual||!1,n[i]=t}else{if(void 0!==n[i])continue;const t={type:r.type,el:r,defaultValue:u||r.value,virtualValue:u||r.value,...a,virtual:r.virtual||!1};n[i]=t}if(t.placeholders&&qe(r,t.placeholders)&&!r.hasAttribute("placeholder")&&!r.virtual){const t=Be(r.name);t&&r.setAttribute("placeholder",t)}r.virtual||(r.addEventListener("change",O),r.addEventListener("click",A),r.addEventListener("touchend",A)),void 0!==u&&g(i,Y(t.initialValues,i)),d(i,{pristine:!0,value:u,valid:!0,invalid:!1,touched:!1,dirty:!1})}}function x(...t){for(const e of t){const t=n[e.name];if(t){if(Array.isArray(t.el)){n[e.name].el=t.el.filter((t=>t!==e));n[e.name].el.length||delete n[e.name]}else delete n[e.name];h(e.name),t.virtual||(e.removeEventListener("change",O),e.removeEventListener("click",A),e.removeEventListener("touchend",A))}}}function S(){c=[],x(...Object.keys(n).reduce(((t,e)=>Array.isArray(e)?[...t,...e]:[...t,e]),[])),r&&r(),e&&(e.removeAttribute("novalidate"),e.removeEventListener("submit",T),e.removeEventListener("reset",w))}async function k(n){e=n,$(...Array.from(n.elements)),n.setAttribute("novalidate","novalidate"),n.addEventListener("submit",T),n.addEventListener("reset",w),t.subscribe&&f(t.subscribe),t.validateInit?await y(t.initialValues):setTimeout((()=>{p({})}))}return l}function tn(t){const{subscribe:n,set:r}=e.writable(t);return{subscribe:n,set:r}}const en=(t,e,n)=>{const r=Y(n,t);if(void 0!==r&&""!==r)return r;if("checkbox"===e.type||"radio"===e.type){const t=e.checked;return"checkbox"===e.type?t:"radio"===e.type&&t?e.value:""}return e.value||""};t.DEFAULT_FORM_STATE=i,t.HTML5_INPUT_TYPES=r,t.HTML5_PLACEHOLDER_TYPES=o,t.MAX_DEPTH=20,t.VALID_MUTATION_NODES=n,t.default=function(t){const e=Ze({...t,adapter:"svelte",defaultGetter:en}),n=tn({});return e.subscribe(n.set),{...e,store:n}},t.ensureArray=Ce,t.flattenKeys=Ne,t.flattenMap=function(t,e="."){const n={},r=(t,o)=>{for(const[i,u]of Object.entries(t)){const t=o?`${o}${e}${i}`:i;null==u||Array.isArray(u)||"object"!=typeof u?n[t]=u:r(u,t)}return n};return r(t)},t.getFirstDefined=function(t,e,n){let r;for(const n of e){if(void 0!==r)return r;r=t[n]}const o=void 0!==n?t[n]:void 0;return void 0!==r&&void 0!==o&&(r=o),r},t.getProperty=Y,t.hasProperty=Pe,t.mergeObject=Me,t.setProperty=Dt,t.unflattenMap=function(t){return Object.keys(t).reduce(((e,n)=>(Dt(e,n,Y(t,n)),e)),{})},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
